"use strict";(globalThis.webpackChunk_clerk_clerk_js=globalThis.webpackChunk_clerk_clerk_js||[]).push([["33"],{5207:function(e,t,r){r.r(t),r.d(t,{PlanDetails:()=>m});var l=r(3312),a=r(851),i=r(9144),n=r(9117),o=r(9629),s=r(1102),c=r(4142),p=r(1576),d=r(4204);let m=e=>(0,l.tZ)(d.Flow.Root,{flow:"planDetails",children:(0,l.tZ)(d.Flow.Part,{children:(0,l.tZ)(s.Drawer.Content,{children:(0,l.tZ)(D,{...e})})})}),u=({children:e})=>(0,l.tZ)(s.Drawer.Body,{sx:e=>({display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flex:1,overflowY:"auto",padding:e.space.$4,gap:e.space.$4}),children:e}),h=({error:e})=>{let{translateError:t}=(0,d.useLocalizations)();return(0,l.tZ)(u,{children:(0,l.tZ)(n.b,{variant:"danger",colorScheme:"danger",children:t(e.errors[0])})})},D=({planId:e,plan:t,initialPlanPeriod:r="month"})=>{let[n,c]=(0,i.useState)(r),{data:m,isLoading:D,error:x}=(0,a.Fv)({planId:e,initialPlan:t,enabled:!!(e||t?.id)});if(D&&!t)return(0,l.tZ)(u,{children:(0,l.tZ)(d.Spinner,{})});if(!m&&x)return(0,l.tZ)(h,{error:x});if(!m)return null;let y=m.features,b=y.length>0;return(0,l.BX)(p.SubscriberTypeContext.Provider,{value:"org"===m.forPayerType?"organization":"user",children:[(0,l.tZ)(s.Drawer.Header,{sx:e=>b?null:{flex:1,borderBottomWidth:0,background:e.colors.$colorBackground},children:(0,l.tZ)(g,{plan:m,planPeriod:n,setPlanPeriod:c,closeSlot:(0,l.tZ)(s.Drawer.Close,{})})}),b?(0,l.BX)(s.Drawer.Body,{children:[(0,l.tZ)(d.Text,{elementDescriptor:d.descriptors.planDetailCaption,variant:"caption",localizationKey:(0,d.localizationKeys)("billing.availableFeatures"),colorScheme:"secondary",sx:e=>({padding:e.space.$4,paddingBottom:0})}),(0,l.tZ)(d.Box,{elementDescriptor:d.descriptors.planDetailFeaturesList,as:"ul",role:"list",sx:e=>({display:"grid",rowGap:e.space.$6,padding:e.space.$4,margin:0}),children:y.map(e=>(0,l.BX)(d.Box,{elementDescriptor:d.descriptors.planDetailFeaturesListItem,as:"li",sx:e=>({display:"flex",alignItems:"baseline",gap:e.space.$3}),children:[e.avatarUrl?(0,l.tZ)(o.q,{size:e=>24,title:e.name,initials:e.name[0],rounded:!1,imageUrl:e.avatarUrl}):null,(0,l.BX)(d.Span,{elementDescriptor:d.descriptors.planDetailFeaturesListItemContent,children:[(0,l.tZ)(d.Text,{elementDescriptor:d.descriptors.planDetailFeaturesListItemTitle,colorScheme:"body",sx:e=>({fontWeight:e.fontWeights.$medium}),children:e.name}),e.description?(0,l.tZ)(d.Text,{elementDescriptor:d.descriptors.planDetailFeaturesListItemDescription,colorScheme:"secondary",sx:e=>({marginBlockStart:e.space.$0x25}),children:e.description}):null]})]},e.id))})]}):null]})},g=i.forwardRef((e,t)=>{let{plan:r,closeSlot:a,planPeriod:n,setPlanPeriod:s}=e,m=(0,i.useMemo)(()=>r.annualMonthlyFee&&"annual"===n?r.annualMonthlyFee:r.fee,[r,n]),u=i.useMemo(()=>(0,p.normalizeFormatted)(m.amountFormatted),[m.amountFormatted]);return(0,l.BX)(d.Box,{ref:t,elementDescriptor:d.descriptors.planDetailHeader,sx:e=>({width:"100%",padding:e.space.$4,position:"relative"}),children:[a?(0,l.tZ)(d.Box,{sx:e=>({position:"absolute",top:e.space.$2,insetInlineEnd:e.space.$2}),children:a}):null,(0,l.BX)(d.Col,{gap:3,elementDescriptor:d.descriptors.planDetailBadgeAvatarTitleDescriptionContainer,children:[r.avatarUrl?(0,l.tZ)(o.q,{boxElementDescriptor:d.descriptors.planDetailAvatar,size:e=>40,title:r.name,initials:r.name[0],rounded:!1,imageUrl:r.avatarUrl,sx:e=>({marginBlockEnd:e.space.$3})}):null,(0,l.BX)(d.Col,{gap:1,elementDescriptor:d.descriptors.planDetailTitleDescriptionContainer,children:[(0,l.tZ)(d.Heading,{elementDescriptor:d.descriptors.planDetailTitle,as:"h2",textVariant:"h2",children:r.name}),r.description?(0,l.tZ)(d.Text,{elementDescriptor:d.descriptors.planDetailDescription,variant:"subtitle",colorScheme:"secondary",children:r.description}):null]})]}),(0,l.tZ)(d.Flex,{elementDescriptor:d.descriptors.planDetailFeeContainer,align:"center",wrap:"wrap",sx:e=>({marginTop:e.space.$3,columnGap:e.space.$1x5}),children:(0,l.BX)(l.HY,{children:[(0,l.BX)(d.Text,{elementDescriptor:d.descriptors.planDetailFee,variant:"h1",colorScheme:"body",children:[m.currencySymbol,u]}),(0,l.tZ)(d.Text,{elementDescriptor:d.descriptors.planDetailFeePeriod,variant:"caption",colorScheme:"secondary",sx:e=>({textTransform:"lowercase",":before":{content:'"/"',marginInlineEnd:e.space.$1}}),localizationKey:(0,d.localizationKeys)("billing.month")})]})}),r.annualMonthlyFee?(0,l.tZ)(d.Box,{elementDescriptor:d.descriptors.planDetailPeriodToggle,sx:e=>({display:"flex",marginTop:e.space.$3}),children:(0,l.tZ)(c.r,{isChecked:"annual"===n,onChange:e=>s(e?"annual":"month"),label:(0,d.localizationKeys)("billing.billedAnnually")})}):(0,l.tZ)(d.Text,{elementDescriptor:d.descriptors.pricingTableCardFeePeriodNotice,variant:"caption",colorScheme:"secondary",localizationKey:r.isDefault?(0,d.localizationKeys)("billing.alwaysFree"):(0,d.localizationKeys)("billing.billedMonthlyOnly"),sx:e=>({justifySelf:"flex-start",alignSelf:"center",marginTop:e.space.$3})})]})})}}]);